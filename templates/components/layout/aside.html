{% load i18n %}

<div
  x-cloak
  :class="asideOpen ? 'left-0' : 'left-[-300px]' "
  class="fixed top-0 w-[min(100%,300px)] h-screen bg-slate-800 text-white shadow-sm z-50 duration-150"
>
  <aside class="relative p-3 bg- h-full overflow-y-auto overflow-x-hidden">

    <span role="button" @click="asideOpen = false" class='!hidden max-sm:!flex items-center justify-center absolute right-2 top-2 rounded-full p-1 hover:bg-slate-900 text-lg'>
      <c-icons.x ratio="1rem"></c-icons.x>
    </span>

    <div>
      <a href="{% url 'base:index' %}">
        <h1 class="text-xl text-center mt-8 md:mt-4 mb-4 font-semibold tracking-tighter">
          {% translate 'WPU Financial Management' %}
        </h1>
      </a>
    </div>
    <ul 
    class="p-2" 
    x-data="{
    urls: [
        {% if perms.faculties.view_faculty %}
        {
          text: '{% translate 'faculties' %}', 
          url: '{% url 'faculties:index' %}', 
          isActive: true,
        },
        {% endif %}
        {
          text: '{% translate 'cash' %}', 
          url: '{% url 'base:index' %}', 
          isActive: false,
        },
      ]
    }"
    >
      <template x-for="url in urls">
        <li class="my-2">
          <a 
            :href="url.url"
            :class="url.isActive && 'bg-slate-900'"
            class="flex items-center gap-2 p-4 rounded-lg hover:bg-slate-950  tracking-tight duration-150"
          >
            <span x-text="url.text" class="capitalize"></span>
          </a>
        </li>
      </template>
    </ul>
  </aside>
</div>
