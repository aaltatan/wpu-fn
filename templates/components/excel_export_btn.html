{% load i18n %}

<a
role="button"
hx-target="#no-content"
{{ attrs }}
hx-on::after-request="(() => {
    let content = document.getElementById('no-content').innerText;

    console.log(content)

    const blob = new Blob([content], {
        type: 'text/csv; charset=UTF-8'
    });

    const url = URL.createObjectURL(blob);

    const link = document.createElement('a');

    document.body.appendChild(link);

    link.style.display = 'none';
    link.href = url;
    link.click();
    URL.revokeObjectURL(url);
    link.remove();
})()"
title="{% translate 'export to xlsx'|title %}"
class="bx bx-spreadsheet btn-icon"
></a>
